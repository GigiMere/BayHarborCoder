{% extends "_base.html" %}
{% set page="leaderboard" %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-lg-8">
    <div class="glass p-4">
      <h3 class="mb-3">Coin-Top</h3>
      <div class="table-responsive table-glass">
        <table class="table table-dark table-striped align-middle mb-0" id="lbTable">
          <thead><tr><th>#</th><th>Name</th><th class="text-end">Coins</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
      <div class="small text-muted mt-2">Top players by coins.</div>
    </div>
  </div>
</div>
{% endblock %}
{% block scripts %}
<script>
async function loadLB(){
  const r = await fetch('/api/coins/top');
  const j = await r.json();
  const tb = document.querySelector('#lbTable tbody');
  const rows = (j.data||[]).map((x,i)=>`
    <tr><td>${i+1}</td><td>${x.name}</td><td class="text-end">${x.coins}</td></tr>
  `).join('') || `<tr><td colspan="3" class="text-center text-muted">No players yet</td></tr>`;
  tb.innerHTML = rows;
}
window.addEventListener('DOMContentLoaded', loadLB);
</script>
{% endblock %}
